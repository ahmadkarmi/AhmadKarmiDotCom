---
import BaseLayout from '../layouts/BaseLayout.astro';
import NewsletterForm from '../components/NewsletterForm.astro';
import { fetchAboutPage, getMediaUrl } from '../lib/wordpress';

// Career Journey - Accurate from CV
const journey = [
  {
    period: 'July 2024 - Present',
    role: 'Senior Product Manager',
    company: 'Al Jazeera Media Network',
    location: 'Doha, Qatar',
    highlights: [
      'Responsible for loyalty, retention, and growth across all Al Jazeera Properties',
      'Product Owner for Al Jazeera Mubasher (Live Broadcast Property)',
    ],
  },
  {
    period: 'August 2023 - July 2024',
    role: 'Product Manager',
    company: 'UULA Technologies',
    location: 'Kuwait City, Kuwait',
    highlights: [
      'Increased engagement by 70% via a gamified "Practice Center"',
      'Achieved 90%+ search-to-results conversion with new search interface',
      'Led a team of 7 developers and 3 designers',
      'Improved knowledge retention by 30% with the "Fixing Mistakes" feature',
    ],
  },
  {
    period: 'May 2021 - June 2023',
    role: 'Head of Product Management',
    company: 'Bleems',
    location: 'Kuwait City, Kuwait',
    highlights: [
      'Increased daily revenue by 23% and average cart size by 28% via loyalty program',
      'Boosted monthly conversion to 12.1% using AI-driven personalization',
      'Achieved 36.1% conversion during cashback events',
      'Established PM department, delivering 22% productivity increase',
    ],
  },
  {
    period: 'March 2010 - May 2021',
    role: 'Chief Innovation Officer',
    company: 'MEDCOMM Consulting Group',
    location: 'Kuwait City, Kuwait',
    highlights: [
      'Managed KWD 300,000 annual innovation budget with 8-person team',
      'Launched Zain eSports, growing to 18,000 participants and 43M impressions',
      'Achieved 24% cost savings on IT infrastructure for AOU Riyadh',
      'Reduced operational costs by 23% via internal PM software',
    ],
  },
];

// Education
const education = [
  {
    degree: 'Master of Business Administration (MBA)',
    institution: 'Boston University',
    period: '2023 - 2025',
    distinction: 'Honors, 3.68 GPA',
  },
  {
    degree: 'Bachelor of Business Administration',
    institution: 'American University of Kuwait',
    period: '2007 - 2010',
    distinction: 'Honors, 3.62 GPA',
  },
];

// Products Built
const products = [
  {
    name: 'Trakr',
    description: 'Compliance SaaS tool built with React and Supabase',
    type: 'SaaS Product',
  },
  {
    name: 'Story Point Calculator',
    description: 'AI-powered estimation tool for agile teams',
    type: 'Productivity Tool',
  },
];

// Skills
const skills = {
  core: ['AI Product Management', 'Agile Methodologies', 'Strategic Forecasting', 'User-Centric Design', 'Stakeholder Management'],
  tools: ['Amplitude', 'Tableau', 'Figma', 'Jira', 'Salesforce CRM', 'Power BI', 'Google Analytics'],
};

// Fetch About Page Data
const aboutPage = await fetchAboutPage();

// ... existing code ...
---

<BaseLayout 
  title="About" 
  description="Ahmad Al-Karmi - Senior Product Manager with an MBA and over a decade of experience in AI-driven product management and digital transformation."
>
  <!-- Hero -->
  <section class="section pt-32 pb-20">
    <div class="container-custom">
      <div class="max-w-4xl mx-auto text-center animate-fade-in">
        <h1 class="font-display text-display-lg md:text-6xl text-foreground mb-8 leading-tight">
          {aboutPage?.heroTitle || "Building Products That Actually Matter."}
        </h1>
        <div class="text-foreground-secondary text-xl leading-relaxed max-w-2xl mx-auto space-y-6">
          <p>
            {aboutPage?.heroText || `For 14 years, I’ve led teams to ship software by focusing on the "why". Today, I apply that product leadership to help organizations build intelligent AI tools that solve actual business problems.`}
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Narrative & Bio -->
  <section class="section pt-0 pb-24">
    <div class="container-custom">
      <div class="grid grid-cols-1 xl:grid-cols-12 gap-12 items-start">
        <!-- Sticky Bio Card -->
        <div class="xl:col-span-4 xl:sticky xl:top-32">
          <div class="glass-card p-8">
            <div class="w-24 h-24 rounded-full overflow-hidden mb-6 ring-4 ring-accent/20">
              <img 
                src={aboutPage?.bioImage ? getMediaUrl(aboutPage.bioImage) || "/brand/avatar.jpg" : "/brand/avatar.jpg"} 
                alt={aboutPage?.bioName || "Ahmad Al-Karmi"} 
                class="w-full h-full object-cover"
              />
            </div>
            <h2 class="font-display text-2xl text-foreground mb-2">{aboutPage?.bioName || "Ahmad Al-Karmi"}</h2>
            <p class="text-accent font-medium mb-6">{aboutPage?.bioRole || "Senior Product Manager"}</p>
            <div class="space-y-4 text-sm text-foreground-secondary">
              <div class="flex items-center gap-3">
                <svg class="w-5 h-5 opacity-70" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                {aboutPage?.bioLocation || "Doha • Kuwait • Toronto"}
              </div>
              <div class="flex items-center gap-3">
                <svg class="w-5 h-5 opacity-70" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
                {aboutPage?.bioEmail || "info@ahmadkarmi.com"}
              </div>
            </div>
            <div class="mt-8 pt-8 border-t border-border">
              <div class="flex gap-4">
                <a href="https://www.linkedin.com/in/akarmi" target="_blank" class="p-2 bg-background-tertiary rounded-lg hover:bg-accent hover:text-white transition-colors">
                  <span class="sr-only">LinkedIn</span>
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
                </a>
                <a href="https://www.threads.com/@karmi.csd" target="_blank" class="p-2 bg-background-tertiary rounded-lg hover:bg-accent hover:text-white transition-colors">
                  <span class="sr-only">Threads</span>
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12.75 2.25c-5.182 0-9.25 3.903-9.25 9.006 0 2.21.755 4.195 2.057 5.799 1.146 1.416 2.825 2.33 4.675 2.536.873.1 1.764.043 2.645-.164l.135-.034c-.81.65-1.846 1.057-2.987 1.057-2.656 0-4.81-2.155-4.81-4.81 0-2.656 2.154-4.81 4.81-4.81 2.655 0 4.81 2.154 4.81 4.81 0 1.25-.46 2.37-1.22 3.23-.42.47-1.02.77-1.66.8-1.55.06-2.95-1.08-3.32-2.58-.33-1.34.22-2.83 1.43-3.66 1.1-.76 2.65-.56 3.51.52.28.35.43.78.43 1.23v.16c-.01 1.05-.33 1.83-1.04 2.45-.66.58-1.47.78-2.32.74-2.13-.1-3.66-1.78-3.66-3.89 0-2.18 1.68-4.04 3.92-4.04 1.95 0 3.48 1.45 3.8 3.32.06.33.09.67.09 1.02 0 1.62-.48 3.2-1.38 4.64l-1.05 1.63c1.07-1.62 1.68-3.51 1.68-5.5 0-5.18-4.14-9.33-9.33-9.33S3.02 7.15 3.02 12.33c0 5.18 4.15 9.33 9.33 9.33 1.76 0 3.39-.48 4.84-1.33l1.19-.7c-1.63 1.07-3.61 1.7-5.74 1.7-5.87 0-10.65-4.78-10.65-10.65S6.8 0 12.67 0c5.87 0 10.65 4.78 10.65 10.65 0 3.1-.38 5.76-1.07 8.35v.01l1.28.34c.75-2.82 1.17-5.7 1.17-9.42C24.75 6.47 19.38 2.25 12.75 2.25z"/></svg>
                </a>
              </div>
            </div>
          </div>
        </div>

        <!-- Main Content -->
        <div class="xl:col-span-8 space-y-16">
          
          <!-- Credentials Grid -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="glass-card p-6">
              <h3 class="font-display text-lg font-semibold mb-1">MBA with Distinction</h3>
              <p class="text-sm text-foreground-secondary mb-2">Boston University</p>
              <div class="text-2xl font-bold text-foreground">3.68 GPA</div>
            </div>
            <div class="glass-card p-6">
              <h3 class="font-display text-lg font-semibold mb-1">Bilingual Executive</h3>
              <p class="text-sm text-foreground-secondary mb-2">Native Fluency</p>
              <div class="text-2xl font-bold text-foreground">English & Arabic</div>
            </div>
          </div>

          <!-- Career Timeline -->
          <div>
            <h2 class="font-display text-2xl text-foreground mb-8 flex items-center gap-3">
              <span class="w-8 h-[1px] bg-accent"></span>
              Professional Journey
            </h2>
            <div class="space-y-12">
              {journey.map((item) => (
                <div class="relative pl-8 border-l border-border/50">
                  <div class="absolute left-0 top-2 w-2 h-2 rounded-full bg-accent -translate-x-[5px]"></div>
                  <div class="flex flex-col sm:flex-row sm:items-baseline justify-between mb-2">
                    <h3 class="font-display text-xl font-bold text-foreground">{item.company}</h3>
                    <span class="text-sm font-mono text-accent">{item.period}</span>
                  </div>
                  <div class="text-foreground-secondary font-medium mb-4">{item.role}</div>
                  <ul class="space-y-3">
                    {item.highlights.map(highlight => (
                      <li class="group flex items-start gap-3 text-foreground-secondary text-base leading-relaxed">
                        <span class="mt-2 w-1.5 h-1.5 rounded-full bg-border group-hover:bg-accent transition-colors flex-shrink-0"></span>
                        {highlight}
                      </li>
                    ))}
                  </ul>
                </div>
              ))}
            </div>
          </div>

          <!-- Capabilities -->
          <div>
            <h2 class="font-display text-2xl text-foreground mb-8 flex items-center gap-3">
              <span class="w-8 h-[1px] bg-accent"></span>
              Core Capabilities
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
              <div>
                <h3 class="font-display text-lg font-semibold mb-4 text-foreground/80">Strategic</h3>
                <div class="flex flex-wrap gap-2">
                  {skills.core.map(skill => (
                    <span class="px-3 py-1.5 bg-background-secondary text-foreground-secondary text-sm rounded-lg border border-border/50">
                      {skill}
                    </span>
                  ))}
                </div>
              </div>
              <div>
                <h3 class="font-display text-lg font-semibold mb-4 text-foreground/80">Technical</h3>
                <div class="flex flex-wrap gap-2">
                  {skills.tools.map(tool => (
                    <span class="px-3 py-1.5 bg-background-secondary text-foreground-secondary text-sm rounded-lg border border-border/50">
                      {tool}
                    </span>
                  ))}
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section class="section">
    <div class="container-custom">
      <div class="glass-card p-12 md:p-16 text-center max-w-4xl mx-auto">
        <p class="text-accent font-medium mb-4 uppercase tracking-wider text-sm">Get in Touch</p>
        <h2 class="font-display text-display-md text-foreground mb-6">
          Ready to Start a Conversation?
        </h2>
        <p class="text-foreground-secondary text-lg mb-10 max-w-2xl mx-auto leading-relaxed">
          Whether you're looking to discuss product strategy, AI implementation, or just want to say hello. I'm always open to new opportunities and connections.
        </p>
        <div class="flex flex-wrap justify-center gap-4">
          <a href="mailto:info@ahmadkarmi.com" class="px-8 py-4 bg-accent text-white font-semibold rounded-xl hover:bg-accent/90 transition-all hover:scale-105 focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-foreground flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
            Send me an Email
          </a>
          <a href="https://www.linkedin.com/in/akarmi" target="_blank" class="px-8 py-4 bg-background-tertiary text-foreground font-semibold rounded-xl hover:bg-background-tertiary/80 transition-all hover:scale-105 focus:outline-none focus:ring-2 focus:ring-foreground focus:ring-offset-2 focus:ring-offset-foreground flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
            Connect on LinkedIn
          </a>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
