---
// Reading Progress Bar for article pages
---

<div 
  id="reading-progress"
  class="fixed top-16 md:top-20 left-0 h-1 bg-accent z-[60] transition-all duration-75"
  style="width: 0%;"
></div>

<script is:inline>
  (function() {
    var progressBar = document.getElementById('reading-progress');
    if (!progressBar) return;
    
    // Only show on insight/article pages
    var isArticlePage = window.location.pathname.includes('/insights/') && 
                        window.location.pathname !== '/insights/' &&
                        window.location.pathname !== '/insights';
    
    if (!isArticlePage) {
      progressBar.style.display = 'none';
      return;
    }
    
    function updateProgress() {
      var scrollTop = window.scrollY;
      var docHeight = document.documentElement.scrollHeight - window.innerHeight;
      var progress = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;
      progressBar.style.width = Math.min(100, Math.max(0, progress)) + '%';
    }
    
    window.addEventListener('scroll', updateProgress, { passive: true });
    updateProgress(); // Initial call
  })();
</script>
